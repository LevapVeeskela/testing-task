{"version":3,"file":"static/js/277.2caa89d0.chunk.js","mappings":"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","sources":["webpack://testing-task/./src/shared/components/input/style.module.scss?30d5","shared/components/input/view.tsx","shared/components/input/index.tsx","webpack://testing-task/./src/pages/testing-task/form/style.module.scss?b95f","pages/testing-task/form/view.tsx","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","pages/testing-task/form/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"label\":\"style_label__kK2Vq\",\"input\":\"style_input__BfNfU\",\"invalid\":\"style_invalid__14X+4\",\"error\":\"style_error__jSzAL\"};","import React, { FC, useState } from 'react';\nimport cx from 'classnames';\n\nimport style from './style.module.scss';\nimport { Input } from './interface';\nimport { useTranslation } from 'react-i18next';\nimport { observer } from 'mobx-react-lite';\n\nconst View: FC<Input> = (props): JSX.Element => {\n\tconst {\n\t\tlabel,\n\t\tlabelClass,\n\t\tdefaultValue,\n\t\ttype,\n\t\tname,\n\t\tplaceholder,\n\t\tinputClass,\n\t\trequired,\n\t\tpattern,\n\t\tonChangeHandler,\n\t\tonCatchErrorHandler,\n\t} = props;\n\tconst [error, setError] = useState(props.error);\n\tconst { t } = useTranslation();\n\tconst changeHandler = (event: React.ChangeEvent<HTMLInputElement>) => {\n\t\tsetError('');\n\t\tconst value = event.target.value;\n\t\tconst isInCorrect = pattern && !new RegExp(pattern).test(value);\n\t\tconst isRequired = (required && typeof value == 'undefined') || value == '';\n\t\tconst isHaveError = isInCorrect || isRequired;\n\t\tif (isInCorrect) {\n\t\t\tsetError(() => sendError(value, t('FORM.ERRORS.INCORRECT'), name));\n\t\t}\n\t\tif (isRequired) {\n\t\t\tsetError(() => sendError(value, t('FORM.ERRORS.REQUIRED'), name));\n\t\t}\n\t\tif (!isHaveError && onChangeHandler) {\n\t\t\tonChangeHandler(value, name, error);\n\t\t}\n\t};\n\n\tconst sendError = (value: string, error: string, name?: string): string => {\n\t\tif (onCatchErrorHandler) {\n\t\t\tonCatchErrorHandler(value, name, error);\n\t\t}\n\t\treturn error;\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t{label && (\n\t\t\t\t<label htmlFor={name} className={cx(labelClass, style.label)}>\n\t\t\t\t\t{label}:\n\t\t\t\t</label>\n\t\t\t)}\n\t\t\t<input\n\t\t\t\tid={name}\n\t\t\t\tdefaultValue={defaultValue}\n\t\t\t\ttype={type}\n\t\t\t\tname={name}\n\t\t\t\tplaceholder={placeholder}\n\t\t\t\tclassName={cx(inputClass, style.input, error ? style.invalid : '')}\n\t\t\t\trequired={required}\n\t\t\t\tpattern={pattern}\n\t\t\t\tonChange={changeHandler}\n\t\t\t/>\n\t\t\t{error && <div className={cx(style.error)}>{error}</div>}\n\t\t</div>\n\t);\n};\n\nexport default View;\n","import React, { FC } from 'react';\r\nimport { Input } from './interface';\r\n\r\nimport View from './view';\r\n\r\nconst Container: FC<Input> = (props): JSX.Element => (<View {...props} />);\r\n\r\nexport default Container;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"style_container__jYCas\",\"form\":\"style_form__PpCmV\",\"button\":\"style_button__YwCzJ\",\"invalid\":\"style_invalid__3Kgo4\"};","import React, { FC, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport cx from 'classnames';\nimport Input from '../../../shared/components/input';\nimport { Field, FieldError, FormCustom } from '../../../core/models/form';\nimport { observer } from 'mobx-react-lite';\nimport { useStores } from '../../../core/hooks/stores';\nimport style from './style.module.scss';\nconst View: FC<FormCustom> = observer((props) => {\n\tconst { formStore } = useStores();\n\tconst { fields = [] } = props;\n\tconst [fieldErrors, setFieldErrors] = useState<FieldError[]>([]);\n\tconst [isDisabledButton, setIsDisabledButton] = useState(\n\t\tfields.length != formStore.fieldValues.length,\n\t);\n\tconst { t } = useTranslation();\n\tconst formRef = useRef<HTMLFormElement>(null);\n\n\tconst handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n\t\te.preventDefault();\n\t\tformStore.onSumbit();\n\t\tfor (const field of fields) {\n\t\t\te.currentTarget[field.name].value = '';\n\t\t}\n\t\tsetFieldErrors([]);\n\t\tsetIsDisabledButton(true);\n\t};\n\n\tconst changeHandler = (value: string, name: string) => {\n\t\tformStore.setFields({ value, name });\n\t\tconst fieldErrorIndex = fieldErrors.findIndex((f) => f.name == name);\n\t\tconst isFillFields = fields.length == formStore.fieldValues.length;\n\t\tif (fieldErrorIndex != -1) {\n\t\t\tfieldErrors.splice(fieldErrorIndex, 1);\n\t\t\tsetFieldErrors(fieldErrors);\n\t\t}\n\n\t\tsetIsDisabledButton(!!fieldErrors.length || !isFillFields);\n\t};\n\n\tconst catchErrorHandler = (value: string, name: string, error: string) => {\n\t\tconst newFieldErrors = [\n\t\t\t...(fieldErrors.filter((f) => f.name != name) || []),\n\t\t\t{ value, name, error },\n\t\t];\n\t\tsetIsDisabledButton(true);\n\t\tsetFieldErrors(newFieldErrors);\n\t};\n\n\treturn fields?.length ? (\n\t\t<form onSubmit={handleSubmit} ref={formRef} className={cx(style.form)} noValidate>\n\t\t\t{fields.map(({ name, type, defaultValue, required, pattern }: Field) => (\n\t\t\t\t<div key={name}>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tlabel={t(`FORM.FIELDS.${name}.LABEL`, '')}\n\t\t\t\t\t\tdefaultValue={defaultValue}\n\t\t\t\t\t\ttype={type}\n\t\t\t\t\t\tname={name}\n\t\t\t\t\t\tplaceholder={t(`FORM.FIELDS.${name}.PLACEHOLDER`, '')}\n\t\t\t\t\t\tpattern={pattern}\n\t\t\t\t\t\trequired={required}\n\t\t\t\t\t\tonChangeHandler={changeHandler}\n\t\t\t\t\t\tonCatchErrorHandler={catchErrorHandler}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t\t<input\n\t\t\t\ttype=\"submit\"\n\t\t\t\tvalue={t('FORM.BUTTONS.READY', '')}\n\t\t\t\tclassName={cx(style.button, isDisabledButton ? style.invalid : '')}\n\t\t\t\tdisabled={isDisabledButton}\n\t\t\t/>\n\t\t</form>\n\t) : (\n\t\tt('FORM.ERRORS.SECOND_NAME.LABEL')\n\t);\n});\n\nexport default View;\n","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n  if (!it) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = it.call(o);\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","import React, { FC } from 'react';\nimport { observer } from 'mobx-react-lite';\nimport cx from 'classnames';\nimport View from './view';\nimport style from './style.module.scss';\nimport { useStores } from '../../../core/hooks/stores';\n\nconst Container: FC = observer((): JSX.Element => {\n\tconst { formStore } = useStores();\n\n\treturn (\n\t\t<div className={cx(style.container)}>\n\t\t\t<View fields={formStore.fields} />\n\t\t</div>\n\t);\n});\n\nexport default Container;\n"],"names":["props","label","labelClass","defaultValue","type","name","placeholder","inputClass","required","pattern","onChangeHandler","onCatchErrorHandler","useState","error","setError","t","useTranslation","sendError","value","htmlFor","className","cx","style","id","onChange","event","target","isInCorrect","RegExp","test","isRequired","isHaveError","observer","formStore","useStores","fields","fieldErrors","setFieldErrors","length","fieldValues","isDisabledButton","setIsDisabledButton","formRef","useRef","changeHandler","setFields","fieldErrorIndex","findIndex","f","isFillFields","splice","catchErrorHandler","newFieldErrors","filter","onSubmit","e","preventDefault","onSumbit","o","allowArrayLike","it","Symbol","iterator","Array","isArray","unsupportedIterableToArray","i","F","s","n","done","_e","TypeError","err","normalCompletion","didErr","call","step","next","_e2","field","currentTarget","ref","noValidate","map","disabled"],"sourceRoot":""}